{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lightbox.js"],"names":["Lightbox","$","NAME","JQUERY_NO_CONFLICT","fn","__default","doc","document","lang","i18","ru","close","failLoad","undefinedType","tpl","title","preloader","leftArrow","rightArrow","opts","maxWidth","maxHeight","arrows","infinite","type","hideClose","deepPreload","onShow","onShown","onHide","onHidden","onNavigate","direction","onContentLoaded","stringKey","config","replace","toLowerCase","str","toUpperCase","message","subMessage","getLangString","console","error","_containerToUse","html","_resize","event","window","keyCode","navigateRight","navigateLeft","Default","$target","extend","$arrows","galleryIndex","galleryName","remindLastWidth","remindLastHeight","touch","data","start","stop","support","scroll","move","modalId","Math","floor","random","header","footer","body","append","$element","jQuery","$modal","$dialog","$container","$body","$content","_border","_calculateBorders","_padding","_calculatePadding","$items","find","index","on","_hotkeys","bind","length","hasClass","preventDefault","log","_navigateUpdate","toggleLoading","open","call","off","remove","modal","self","originalEvent","touches","pageX","pageY","moveHandler","one","moveStop","isVertical","isHorizontal","verticalMove","css","horizontalMove","abs","addClass","attr","unbind","undefined","setTimeout","removeClass","$toUse","remote","detectRemoteType","indexOf","_preloadImage","_preloadNearImages","showYoutubeVideo","showVimeoVideo","getVimeoId","showInstagramVideo","getInstagramId","showHtml5Media","loadRemoteContent","$first","children","$last","$current","empty","src","$containerForImage","img","Image","loadingTimeout","onload","clearTimeout","image","width","height","onerror","deep","depth","nextItem","get","prevItem","navigateTo","removeAttr","show","attribute","parseInt","top","_totalCssByAttribute","right","bottom","left","imageAspecRatio","gutterHorizontal","gutterVertical","discountMargin","clientWidth","margins","parseFloat","headerHeight","footerHeight","min","ceil","handleUpdate","isImage","getYoutubeId","isMedia","response","ajax","url","async","contentType","getResponseHeader","string","match","location","protocol","RegExp","host","$containerForElement","getRemoteContentType","mediaType","size","getElementSize","preload","autoplay","controls","toggleArrows","wrapClass","$iFrame","frameborder","allowfullscreen","matches","id","query","substr","showVideoIframe","disableExternalCheck","isExternal","load","proxy","trigger","each","$this","_jQueryInterface","Constructor","noConflict"],"mappings":"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","file":"lightbox.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lightbox.js\");\n","const Lightbox = (($) => {\n\n    const NAME = 'lightbox'\n    const JQUERY_NO_CONFLICT = $.fn[NAME]\n\n    const __default = {\n        doc: document,\n\n        lang: 'ru',\n        i18: {\n            ru: {\n                close : 'Закрыть',\n                failLoad: 'Не удалось загрузить контент.',\n                undefinedType: 'Не удалось определить тип контента',\n            }\n        },\n\n        tpl: {\n            title: 'Тестовый заголовок',\n            preloader: '<div class=\"preloader\"></div>',\n            leftArrow: '<button type=\"button\"><span>&#10094;</span></button>',\n            rightArrow: '<button type=\"button\"><span>&#10095;</span></button>',\n            close: '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"{{close}}\"><span aria-hidden=\"true\">&times;</span></button>',\n        },\n\n        opts: {\n            maxWidth: 9999,\n            maxHeight: 9999,\n            arrows: true,\n            infinite: false,\n            type: null,\n            hideClose: true,\n            deepPreload: 1,\n        },\n\n        onShow: () => {},\n        onShown: () => {},\n        onHide: () => {},\n        onHidden: () => {},\n        onNavigate: ( direction ) => {},\n        onContentLoaded: () => {}\n    }\n\n    class Lightbox\n    {\n        static get Default() {\n            return Default;\n        }\n\n        getLangString(stringKey) {\n            if( this.config.i18[ this.config.lang ][ stringKey ] ) {\n                return this.config.i18[ this.config.lang ][ stringKey ];\n            }\n\n            return stringKey\n                // insert a space before all caps\n                .replace(/([A-Z])/g, ' $1')\n                .toLowerCase()\n                // uppercase the first character\n                .replace(/^./, function(str) { return str.toUpperCase(); })\n        }\n\n        error(message, subMessage) {\n            message = getLangString(message);\n\n            if( subMessage ) {\n                message+= ': ' + subMessage;\n            }\n\n            console.error(message);\n            this._containerToUse().html(message);\n            this._resize(500, 180);\n            return this;\n        }\n\n        _hotkeys(event) {\n            event = event || window.event;\n            if (event.keyCode === 39 || event.keyCode === 32)\n                return this.navigateRight();\n            if (event.keyCode === 37 || event.keyCode === 8)\n                return this.navigateLeft();\n            if (event.keyCode === 27)\n                return this.close();\n        }\n\n        constructor($target, config) {\n            this.config = $.extend({}, __default, config);\n            this.$arrows = null;\n            this.galleryIndex = 0;\n            this.galleryName = null;\n            // this._titleIsShown = false;\n            // this._footerIsShown = false;\n            this.remindLastWidth = 0;\n            this.remindLastHeight = 0;\n\n            this.touch = {\n                data: {},\n                start: {},\n                stop: {},\n                support: $.support.touch,\n                event: {}\n            }\n\n            this.touch.event.scroll = \"touchmove scroll\";\n            this.touch.event.start  = this.touch.support ? \"touchstart\" : \"mousedown\";\n            this.touch.event.stop   = this.touch.support ? \"touchend\" : \"mouseup\";\n            this.touch.event.move   = this.touch.support ? \"touchmove\" : \"mousemove\";\n\n            this.modalId = 'modal-' + Math.floor((Math.random() * 1000) + 1); // this.config.id ||\n\n            this.header = this.config.tpl.close || '<div class=\"modal-header\"><h5 class=\"mb-0\">' + this.config.tpl.title + '</h5>' + this.config.tpl.close + '</div>';\n            this.footer = ' ' || '<div class=\"modal-footer\"></div>';\n\n            this.tpl =\n                '<div class=\"modal lightbox fade\" id=\"'+ this.modalId +'\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">'\n              + '   <div class=\"modal-dialog\" role=\"document\">' // modal-dialog-centered\n              + '       <div class=\"modal-content\">'\n              + '           ' + this.header\n              + '           <div class=\"modal-body\">'\n              + '               <div class=\"modal-container\">'\n              + '                   <div class=\"modal-item fade in show\"></div>'\n              + '                   <div class=\"modal-item fade\"></div>'\n              + '               </div>'\n              + '           </div>'\n              + '           ' + this.footer\n              + '       </div><!-- .modal-content -->'\n              + '   </div>'\n              + '</div>';\n\n            // append modal to document\n            $(this.config.doc.body).append( this.tpl );\n\n            // this target element\n            this.$element = $target instanceof jQuery ? $target : $($target);\n            // modal group ID\n            this.galleryName = this.$element.data('gallery');\n            // this modal element\n            this.$modal = $('#' + this.modalId, this.config.doc);\n            // animated block\n            this.$dialog = $('.modal-dialog', this.$modal);\n            // container closest modal\n            this.$container = $('.modal-container', this.$modal);\n            // container closest modal\n            this.$body = $('.modal-body', this.$modal);\n            this.$content = $('.modal-content', this.$modal);\n\n            this._border = this._calculateBorders(); // call after append and element defined\n            this._padding = this._calculatePadding(); // call after append and element defined\n\n            // check any nodes with this gallery name\n            if (this.galleryName) {\n                // get all gallery trigger items\n                this.$items = $(document.body).find('[data-gallery=\"' + this.galleryName + '\"]');\n                // this element current position\n                this.galleryIndex = this.$items.index(this.$element);\n                // set hotkeys on lightbox\n                $(document).on('keydown.bs.lightbox', this._hotkeys.bind(this))\n                // add the directional arrows to the modal\n                if (this.config.opts.arrows && this.$items.length > 1) {\n                    this.$container.append('<div class=\"navigations\">'\n                        + this.config.tpl.leftArrow\n                        + this.config.tpl.rightArrow\n                        + '</div>');\n\n                    this.$arrows = $('.navigations', this.$container);\n\n                    this.$container.on('click', 'button:first-child', event => {\n                        if( !this.$container.hasClass('touched') ) {\n                            event.preventDefault();\n                            return this.navigateLeft();\n                        }\n                    });\n\n                    this.$container.on('click', 'button:last-child', event => {\n                        console.log('click', this.$container.hasClass('touched'));\n                        if( !this.$container.hasClass('touched') ) {\n                            event.preventDefault();\n                            return this.navigateRight();\n                        }\n                    });\n\n                    this._navigateUpdate();\n                }\n            }\n\n            /**\n             * Set the events\n             * and call bootstrap modal\n             */\n            this.$modal\n                // call onShow on modal open\n                .on('show.bs.modal', this.config.onShow.bind(this))\n                // call onShown after modal opened\n                .on('shown.bs.modal', () => {\n                    this.toggleLoading(true);\n                    this.open();\n                    return this.config.onShown.call(this);\n                })\n                // call onHide on modal close\n                .on('hide.bs.modal', this.config.onHide.bind(this))\n                // Call onHidden after modal closed\n                .on('hidden.bs.modal', () => {\n                    if (this.galleryName) {\n                        $(document).off('keydown.bs.lightbox')\n                        $(window).off('resize.bs.lightbox')\n                    }\n                    // jQuery element delete\n                    this.$modal.remove();\n                    return this.config.onHidden.call(this);\n                })\n                .modal(this.config);\n\n                $(window).on('resize.bs.lightbox', () => {\n                \tthis._resize(this.remindLastWidth, this.remindLastHeight)\n                });\n\n            /**\n             * Touch/Swipe events\n             */\n            this.$dialog\n                .on(this.touch.event.start, (event) => {\n                    let self = this;\n                    // event data\n                    self.touch.data = event.originalEvent.touches ?\n                        event.originalEvent.touches[ 0 ] :\n                        event;\n                    // start data\n                    self.touch.start = [ self.touch.data.pageX, self.touch.data.pageY ];\n                    // origin: $(event.target)\n\n                    self.$dialog\n                        // move object in touch\n                        .bind(self.touch.event.move, moveHandler);\n\n                    // call stop on touch end\\mouse up\n                    $(document).one(self.touch.event.stop, self.$dialog, moveStop);\n                    $(document).on('mouseleave', self.$dialog, moveStop);\n\n                    var isVertical = false;\n                    var isHorizontal = false;\n\n                    function verticalMove() {\n                        if( !!isHorizontal ) return;\n                        isVertical = true;\n\n                        self.$dialog.css({\n                            'transform': 'translateY(' + -(self.touch.start[1] - self.touch.data.pageY) + 'px)',\n                            'transition': 'none'\n                        });\n                    }\n\n                    function horizontalMove() {\n                        if( !!isVertical ) return;\n                        isHorizontal = true;\n\n                        self.$dialog.css({\n                            'transform': 'translateX(' + -(self.touch.start[0] - self.touch.data.pageX) + 'px)',\n                            'transition': 'none'\n                        });\n                    }\n\n                    function moveHandler(event) {\n                        if (!self.touch.start) return;\n                        // update data\n                        self.touch.data = event.originalEvent.touches ?\n                            event.originalEvent.touches[ 0 ] :\n                            event;\n\n                        self.touch.stop = [ self.touch.data.pageX, self.touch.data.pageY ];\n                        // @TODO check this clicable elements (as a or button)\n                        event.preventDefault();\n\n                        // prevent scrolling\n                        if( Math.abs(self.touch.start[1] - self.touch.stop[1]) > 10 ) {\n                            if( self.$arrows ) {\n                                $('button', self.$arrows)\n                                    .addClass('disabled')\n                                    .attr('disabled', 'disabled');\n                            }\n\n                            self.$container\n                                .addClass('touched')\n                                .addClass('touched-vertical');\n\n                            verticalMove();\n                        }\n\n                        if (Math.abs(self.touch.start[0] - self.touch.stop[0]) > 10) {\n                            if( self.$items.length > 1 ) {\n                                if( self.$arrows ) {\n                                    $('button', self.$arrows)\n                                        .addClass('disabled')\n                                        .attr('disabled', 'disabled');\n                                }\n\n                                self.$container\n                                    .addClass('touched')\n                                    .addClass('touched-horizontal');\n\n                                horizontalMove();\n                            }\n                            else {\n                                moveStop(event);\n                            }\n                        }\n                    }\n\n                    function moveStop( event ) {\n                        // reset move event\n                        self.$dialog.unbind(self.touch.event.move, moveHandler);\n                        // data exists\n                        if (self.touch.start[0] !== undefined && self.touch.stop[0] !== undefined) {\n                            if( isHorizontal ) {\n                                if ( Math.abs(self.touch.start[0] - self.touch.stop[0]) > 30 ) {\n                                    if( self.touch.start[0] > self.touch.stop[0] ) {\n                                        self.navigateRight();\n                                    }\n                                    else {\n                                        self.navigateLeft();\n                                    }\n                                }\n                            }\n\n                            // is vertical move stop\n                            if( isVertical ) {\n                                if ( Math.abs(self.touch.start[1] - self.touch.stop[1]) > 30 ) {\n                                    self.$dialog.css('transition', '');\n                                    self.$modal.modal('hide');\n                                }\n                                else {\n                                    self.$dialog.css('transform', 'translate(0, 0)');\n                                }\n                            }\n                            else {\n                                self.$dialog.css('transform', 'translate(0, 0)');\n                            }\n                        }\n\n                        // disable after click event (for arrows disabled)\n                        setTimeout(function() {\n                            self.$container\n                                .removeClass('touched')\n                                .removeClass('touched-vertical')\n                                .removeClass('touched-horizontal');\n                        }, 100);\n\n                        self.touch.start = [];\n                        self.touch.stop = [];\n                        isVertical = false;\n                        isHorizontal = false;\n                        self._navigateUpdate();\n                    }\n                })\n        }\n\n        open() {\n            let $toUse = this._containerToUse()\n            // this._updateTitleAndFooter()\n\n            let remote = this.$element.attr('data-remote') || this.$element.attr('href');\n            let type = this.detectRemoteType(remote, this.$element.attr('data-type') || false)\n\n            if(['image', 'youtube', 'vimeo', 'instagram', 'media', 'url'].indexOf(type) < 0)\n                return this.error( 'undefinedType' )\n\n            switch(type) {\n                case 'image':\n                    this._preloadImage(remote, $toUse)\n                    this._preloadNearImages(this.galleryIndex, this.config.opts.deepPreload)\n                    break;\n\n                case 'youtube':\n                    this.showYoutubeVideo(remote, $toUse);\n                    break;\n\n                case 'vimeo':\n                    this.showVimeoVideo(this.getVimeoId(remote), $toUse);\n                    break;\n\n                case 'instagram':\n                    this.showInstagramVideo(this.getInstagramId(remote), $toUse);\n                    break;\n\n                case 'media':\n                    this.showHtml5Media(remote, $toUse);\n                    break;\n\n                default: // url\n                    this.loadRemoteContent(remote, $toUse);\n                    break;\n            }\n\n            return this;\n        }\n\n        close() {\n            return this.$modal.modal('hide');\n        }\n        // serve container\n        _containerToUse() {\n            let $first = this.$container.children('.modal-item:first');\n            let $last = this.$container.children('.modal-item:last');\n\n            // if currently showing an image, fade it out and remove\n            let $toUse = $last;\n            let $current = $first;\n\n            if($toUse.hasClass('in')) {\n                $toUse = $first;\n                $current = $last;\n            }\n\n            $current.removeClass('in show');\n            setTimeout(() => {\n                if(!$last.hasClass('in')) $last.empty()\n                if(!$first.hasClass('in')) $first.empty()\n            }, 500);\n\n            $toUse.addClass('in show');\n            return $toUse;\n        }\n        // load in container\n        _preloadImage(src, $containerForImage) {\n            $containerForImage = $containerForImage || false\n\n            let img = new Image();\n            if ($containerForImage) {\n                // if loading takes > 200ms show a loader\n                let loadingTimeout = setTimeout(() => {\n                    $containerForImage.append(this.config.tpl.preloader)\n                }, 200)\n\n                img.onload = () => {\n                    if(loadingTimeout) clearTimeout(loadingTimeout)\n\n                    let image = $('<img />', {\n                        src: img.src,\n                        class: 'img-fluid'\n                    });\n\n                    $containerForImage.html(image);\n                    if( this.$arrows ) {\n                        this.$arrows.css('display', '') // remove display to default to css property\n                    }\n\n                    this._resize(img.width, img.height);\n                    this.toggleLoading(false);\n                    return this.config.onContentLoaded.call(this);\n                };\n\n                img.onerror = () => {\n                    this.toggleLoading(false);\n                    return this.error('failLoad', + src);\n                };\n            }\n\n            img.src = src;\n            return img;\n        }\n        // preload near images\n        _preloadNearImages(index, deep, depth = 1) {\n            if(!this.$items) return;\n\n            let nextItem = $(this.$items.get(index + depth), false);\n            if('undefined' != typeof nextItem) {\n                let src = nextItem.attr('data-remote') || nextItem.attr('href');\n                // if ('image' === nextItem.attr('data-type') || this.isImage(src));\n                // this._preloadImage(src, false);\n            }\n\n            let prevItem = $(this.$items.get(index - depth), false);\n            if('undefined' != typeof prevItem) {\n                let src = prevItem.attr('data-remote') || prevItem.attr('href');\n                // if ('image' === prevItem.attr('data-type') || this.isImage(src));\n                // this._preloadImage(src, false);\n            }\n\n            if(deep > 1) {\n                return this._preloadNearImages(index, --deep, ++depth);\n            }\n        }\n\n        navigateTo(index) {\n            // outer offset\n            if (index < 0 || index > this.$items.length - 1) return;\n\n            // change current index\n            this.galleryIndex = index;\n            // chenge active element\n            this.$element = $(this.$items.get(this.galleryIndex));\n\n            this._navigateUpdate()\n            return this.open();\n        }\n\n        navigateLeft() {\n            // not has many items\n            if( !this.$items || this.$items.length === 1 ) return;\n\n            // rewind index\n            if (this.galleryIndex === 0) {\n                if (this.config.opts.infinite) this.galleryIndex = this.$items.length - 1;\n                else return;\n            }\n            else {\n                this.galleryIndex--;\n            }\n\n            // call event\n            this.config.onNavigate.call(this, 'left', this.galleryIndex)\n            return this.navigateTo(this.galleryIndex)\n        }\n\n        navigateRight() {\n            // not has many items\n            if( !this.$items || this.$items.length === 1 ) return;\n\n            if (this.galleryIndex === this.$items.length - 1) {\n                if (this.config.opts.infinite) this.galleryIndex = 0;\n                else return;\n            }\n            else {\n                this.galleryIndex++;\n            }\n\n            this.config.onNavigate.call(this, 'right', this.galleryIndex)\n            return this.navigateTo(this.galleryIndex)\n        }\n\n        _navigateUpdate() {\n            if (!this.config.opts.infinite && this.$arrows) {\n                if (this.galleryIndex === 0) {\n                    $('button:first-child', this.$arrows)\n                        .addClass('disabled')\n                        .attr('disabled', 'disabled');\n                }\n                else {\n                    $('button:first-child', this.$arrows)\n                        .removeClass('disabled')\n                        .removeAttr('disabled');\n                }\n\n                if (this.galleryIndex === this.$items.length - 1) {\n                    $('button:last-child', this.$arrows)\n                        .addClass('disabled')\n                        .attr('disabled', 'disabled');\n                }\n                else {\n                    $('button:last-child', this.$arrows)\n                        .removeClass('disabled')\n                        .removeAttr('disabled');\n                }\n            }\n        }\n\n        toggleArrows(show) {\n            if( this.$arrows ) {\n                if(!!show) return this.$arrows.css('display', '');\n                else return this.$arrows.css('display', 'none');\n            }\n        }\n\n        toggleLoading(show) {\n            if(!!show) {\n                this.$dialog.css('display', 'none');\n                this.$modal.removeClass('in show');\n                $('.modal-backdrop').append(this.config.tpl.preloader);\n            }\n            else {\n                this.$dialog.css('display', 'block');\n                this.$modal.addClass('in show');\n                $('.modal-backdrop').find('.preloader').remove();\n            }\n            return this;\n        }\n\n        // layout methods\n        _totalCssByAttribute(attribute) {\n            return parseInt(this.$dialog.css(attribute), 10) +\n                parseInt(this.$content.css(attribute), 10) +\n                parseInt(this.$body.css(attribute), 10)\n        }\n\n        _calculateBorders() {\n            return {\n                top: this._totalCssByAttribute('border-top-width'),\n                right: this._totalCssByAttribute('border-right-width'),\n                bottom: this._totalCssByAttribute('border-bottom-width'),\n                left: this._totalCssByAttribute('border-left-width'),\n            }\n        }\n\n        _calculatePadding() {\n            return {\n                top: this._totalCssByAttribute('padding-top'),\n                right: this._totalCssByAttribute('padding-right'),\n                bottom: this._totalCssByAttribute('padding-bottom'),\n                left: this._totalCssByAttribute('padding-left'),\n            }\n        }\n\n        _resize(width, height) {\n\n            if( \"object\" == typeof width ) {\n                height = width.height;\n                width = width.width;\n            }\n\n            height = height || width\n            this.remindLastWidth = width\n            this.remindLastHeight = height\n\n            let imageAspecRatio = width / height;\n\n            // if width > the available space, scale down the expected width and height\n            let gutterHorizontal = this._padding.left + this._padding.right + this._border.left + this._border.right\n            let gutterVertical = this._padding.top + this._padding.bottom + this._border.bottom + this._border.top\n\n            // force 10px margin if window size > 575px\n            let discountMargin = this.config.doc.body.clientWidth > 575 ? 0 : 20\n\n            //calculated each time as resizing the window can cause them to change due to Bootstraps fluid margins\n            let margins = parseFloat(this.$dialog.css('margin-top')) + parseFloat(this.$dialog.css('margin-bottom'));\n\n            let headerHeight = 0,\n                footerHeight = 0\n\n            // as the resize is performed the modal is show, the calculate might fail\n            // if so, default to the default sizes\n            // if (this._footerIsShown)\n            // footerHeight = this._$modalFooter.outerHeight(true) || 55\n\n            // if (this._titleIsShown)\n            // headerHeight = this._$modalHeader.outerHeight(true) || 67\n\n            let maxWidth = Math.min(width + gutterHorizontal,\n                this.config.doc.body.clientWidth,\n                this.config.opts.maxWidth\n            );\n\n            if((width + gutterHorizontal) > maxWidth) {\n                height = (maxWidth - gutterHorizontal - discountMargin) / imageAspecRatio;\n                width = maxWidth\n            }\n            else {\n                width = (width + gutterHorizontal)\n            }\n\n            let maxHeight = Math.min(height,\n                $(window).height() - gutterVertical - margins - headerHeight - footerHeight,\n                this.config.opts.maxHeight - gutterVertical - headerHeight - footerHeight\n            );\n\n            if(height > maxHeight) {\n                // if height > the available height, scale down the width\n                width = Math.ceil(maxHeight * imageAspecRatio) + gutterHorizontal;\n            }\n\n            this.$container.css('height', maxHeight)\n            this.$dialog.css('flex', 1).css('max-width', width);\n\n            let modal = this.$modal.data('bs.modal');\n            if (modal) modal.handleUpdate();\n\n            return this;\n        }\n\n        /************************** Type check tools **************************/\n        detectRemoteType(src, type) {\n            type = type || false;\n\n            if(!type && this.isImage(src)) type = 'image';\n            if(!type && this.getYoutubeId(src)) type = 'youtube';\n            if(!type && this.getVimeoId(src)) type = 'vimeo';\n            if(!type && this.getInstagramId(src)) type = 'instagram';\n            if(type == 'audio' || type == 'video' || (!type && this.isMedia(src))) type = 'media';\n            if(!type || ['image', 'youtube', 'vimeo', 'instagram', 'media', 'url'].indexOf(type) < 0)\n                type = 'url';\n\n            return type;\n        }\n\n        getRemoteContentType(src) {\n            let response = $.ajax({\n                type: 'HEAD',\n                url: src,\n                async: false\n            });\n            let contentType = response.getResponseHeader('Content-Type')\n            return contentType;\n        }\n\n        isImage(string) {\n            return string && string.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i)\n        }\n\n        isMedia(string) {\n            return string && string.match(/(\\.(mp3|mp4|ogg|webm|wav)((\\?|#).*)?$)/i)\n        }\n\n        isExternal(url) {\n            let match = url.match(/^([^:\\/?#]+:)?(?:\\/\\/([^\\/?#]*))?([^?#]+)?(\\?[^#]*)?(#.*)?/);\n            if (typeof match[1] === \"string\" && match[1].length > 0 && match[1].toLowerCase() !== location.protocol)\n                return true;\n\n            if (typeof match[2] === \"string\" && match[2].length > 0 && match[2].replace(new RegExp(`:(${{\n                    \"http:\": 80,\n                    \"https:\": 443\n                }[location.protocol]})?$`), \"\") !== location.host)\n                return true;\n\n            return false;\n        }\n\n        // @todo\n        isSelector() {\n        }\n\n        getElementSize() {\n            let width = this.$element.data('width') || 800;\n\n            return {\n                width: width,\n                height: this.$element.data('height') || width / 100 * 56.25\n            }\n        }\n\n        // should be used for videos only. for remote content use loadRemoteContent (data-type=url)\n        showHtml5Media(url, $containerForElement) {\n            let contentType = this.getRemoteContentType(url);\n            if(!contentType) return this.error( this.getLangString('undefinedType') )\n\n            let mediaType = contentType.indexOf('audio') > 0 ? 'audio' : 'video',\n                size = this.getElementSize();\n\n            $containerForElement.html( $('<div class=\"embed-responsive embed-responsive-16by9\"></div>').append(\n                $('<' + mediaType + '>', {\n                    class: 'embed-responsive-item',\n                    width: size.width,\n                    height: size.height,\n                    preload: 'auto',\n                    autoplay: 1,\n                    controls: 1\n                })\n                .append('<source src=\"' + url + '\" type=\"' + contentType + '\">')\n                .append( this.getLangString('undefinedType') )\n            ) );\n\n            this._resize(size.width, size.height);\n            this.config.onContentLoaded.call(this);\n            // hide the arrows when showing video\n            this.toggleArrows(false);\n            this.toggleLoading(false);\n            return this;\n        }\n\n        // should be used for videos only. for remote content use loadRemoteContent (data-type=url)\n        showVideoIframe(url, $containerForElement, size, wrapClass = 'embed-responsive embed-responsive-16by9') {\n            if( !size ) size = this.getElementSize();\n\n            let $iFrame = $('<iframe>', {\n                src: url,\n                class: 'embed-responsive-item',\n                width: size.width,\n                height: size.height,\n                frameborder: 0,\n                allowfullscreen: 1,\n            });\n\n            if( !!wrapClass ) {\n                $containerForElement.html(\n                    $('<div class=\"' + wrapClass + '\"></div>')\n                        .append( $iFrame )\n                );\n            }\n            else {\n                $containerForElement.html( $iFrame );\n            }\n\n            this._resize(width, height);\n            this.config.onContentLoaded.call(this);\n            // hide the arrows when showing video\n            this.toggleArrows(false);\n            this.toggleLoading(false);\n            return this;\n        }\n\n        getYoutubeId(string) {\n            if(!string)\n                return false;\n            let matches = string.match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/)\n            return (matches && matches[2].length === 11) ? matches[2] : false\n        }\n\n        showYoutubeVideo(remote, $containerForElement) {\n            let id = this.getYoutubeId(remote)\n            let query = remote.indexOf('&') > 0 ? remote.substr(remote.indexOf('&')) : ''\n\n            return this.showVideoIframe(\n                `//www.youtube.com/embed/${id}?badge=0&autoplay=1&html5=1${query}`,\n                $containerForElement\n            );\n        }\n\n        getVimeoId(string) {\n            return string && string.indexOf('vimeo') > 0 ? string : false\n        }\n\n        showVimeoVideo(id, $containerForElement) {\n            return this.showVideoIframe(id + '?autoplay=1', $containerForElement)\n        }\n\n        getInstagramId(string) {\n            return string && string.indexOf('instagram') > 0 ? string : false\n        }\n\n        showInstagramVideo(id, $containerForElement) {\n            // instagram load their content into iframe's so this can be put straight into the element\n            let width = this.$element.data('width') || 612\n            let height = width + 80;\n            id = id.substr(-1) !== '/' ? id + '/' : id; // ensure id has trailing slash\n\n            return this.showVideoIframe(\n                id + 'embed/',\n                $containerForElement,\n                {width: width, height: height},\n                null\n            );\n        }\n\n        loadRemoteContent(url, $containerForElement) {\n            let disableExternalCheck = this.$element.data('disableExternalCheck') || false;\n            this.toggleLoading(false);\n\n            // external urls are loading into an iframe\n            // local ajax can be loaded into the container itself\n            if (!disableExternalCheck && !this.isExternal(url)) {\n                $containerForElement.load(url, $.proxy(() => {\n                    return this.$element.trigger('loaded.bs.modal');\n                }));\n\n            } else {\n                $containerForElement.html(`<iframe src=\"${url}\" frameborder=\"0\" allowfullscreen></iframe>`);\n                this.config.onContentLoaded.call(this);\n            }\n\n            // hide the arrows when remote content\n            this.toggleArrows(false);\n            this._resize( this.getElementSize() );\n            return this;\n        }\n\n        static _jQueryInterface(config) {\n            config = config || {}\n            return this.each(() => {\n                let $this = $(this)\n                let config = $.extend({}, Lightbox.__default, $this.data(), typeof config === 'object' && config )\n\n                new Lightbox(this, config)\n            })\n        }\n    }\n\n    $.fn[NAME]             = Lightbox._jQueryInterface;\n    $.fn[NAME].Constructor = Lightbox;\n    $.fn[NAME].noConflict  = () => {\n        $.fn[NAME] = JQUERY_NO_CONFLICT;\n        return Lightbox._jQueryInterface;\n    }\n\n    return Lightbox\n\n})(jQuery)\n\nexport default Lightbox\n"],"sourceRoot":""}