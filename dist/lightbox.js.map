{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lightbox.js"],"names":["Lightbox","$","NAME","JQUERY_NO_CONFLICT","fn","__default","doc","document","lang","i18","ru","close","failLoad","undefinedType","tpl","title","preloader","leftArrow","rightArrow","opts","maxWidth","maxHeight","arrows","infinite","type","hideClose","deepPreload","onShow","onShown","onHide","onHidden","onNavigate","direction","onContentLoaded","Default","$target","config","extend","$arrows","galleryIndex","galleryName","remindLastWidth","remindLastHeight","modalId","Math","floor","random","header","footer","body","append","$element","jQuery","data","$modal","$dialog","$container","$body","$content","_border","_calculateBorders","_padding","_calculatePadding","$items","find","index","on","hotkeys","bind","length","event","preventDefault","navigateLeft","navigateRight","navigateUpdate","togglePreloader","_handle","call","off","window","remove","modal","_resize","touch","start","stop","support","scroll","move","self","originalEvent","touches","pageX","pageY","moveHandler","one","moveStop","abs","addClass","attr","css","unbind","$toUse","_containerToUse","remote","indexOf","_error","_preloadImage","_preloadNearImages","_showYoutubeVideo","_showVimeoVideo","_getVimeoId","_showInstagramVideo","_getInstagramId","_showHtml5Media","_loadRemoteContent","$first","children","$last","$current","hasClass","removeClass","setTimeout","empty","src","$containerForImage","img","Image","loadingTimeout","onload","clearTimeout","image","html","width","height","onerror","error","deep","depth","nextItem","get","prevItem","keyCode","navigateTo","removeAttr","show","attribute","parseInt","top","_totalCssByAttribute","right","bottom","left","imageAspecRatio","gutterHorizontal","gutterVertical","discountMargin","clientWidth","margins","parseFloat","headerHeight","footerHeight","min","ceil","handleUpdate","message","console","containerToUse","resize","each","$this","_config","_jQueryInterface","Constructor","noConflict"],"mappings":"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","file":"lightbox.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lightbox.js\");\n","const Lightbox = (($) => {\n\n    const NAME = 'lightbox'\n    const JQUERY_NO_CONFLICT = $.fn[NAME]\n\n    const __default = {\n        doc: document,\n\n        lang: 'ru',\n        i18: {\n            ru: {\n                close : 'Закрыть',\n                failLoad: 'Не удалось загрузить контент.',\n                undefinedType: 'Не удалось определить тип контента',\n            }\n        },\n\n        tpl: {\n            title: 'Тестовый заголовок',\n            preloader: '<div class=\"preloader\"></div>',\n            leftArrow: '<button type=\"button\"><span>&#10094;</span></button>',\n            rightArrow: '<button type=\"button\"><span>&#10095;</span></button>',\n            close: '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"{{close}}\"><span aria-hidden=\"true\">&times;</span></button>',\n        },\n\n        opts: {\n            maxWidth: 9999,\n            maxHeight: 9999,\n            arrows: true,\n            infinite: false,\n            type: null,\n            hideClose: true,\n            deepPreload: 1,\n        },\n\n        onShow: () => {},\n        onShown: () => {},\n        onHide: () => {},\n        onHidden: () => {},\n        onNavigate: ( direction ) => {},\n        onContentLoaded: () => {}\n    }\n\n    class Lightbox\n    {\n        static get Default() {\n            return Default;\n        }\n\n        constructor($target, config) {\n            this.config = $.extend({}, __default, config);\n            this.$arrows = null;\n            this.galleryIndex = 0;\n            this.galleryName = null;\n            // this._titleIsShown = false;\n            // this._footerIsShown = false;\n            this.remindLastWidth = 0;\n            this.remindLastHeight = 0;\n            // this._touchstartX = 0;\n            // this._touchendX = 0;\n\n            this.modalId = 'modal-' + Math.floor((Math.random() * 1000) + 1); // this.config.id ||\n\n            this.header = this.config.tpl.close || '<div class=\"modal-header\"><h5 class=\"mb-0\">' + this.config.tpl.title + '</h5>' + this.config.tpl.close + '</div>';\n            this.footer = ' ' || '<div class=\"modal-footer\"></div>';\n\n            this.tpl =\n                '<div class=\"modal lightbox fade\" id=\"'+ this.modalId +'\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">'\n              + '   <div class=\"modal-dialog\" role=\"document\">' // modal-dialog-centered\n              + '       <div class=\"modal-content\">'\n              + '           ' + this.header\n              + '           <div class=\"modal-body\">'\n              + '               <div class=\"modal-container\">'\n              + '                   <div class=\"modal-item fade in show\"></div>'\n              + '                   <div class=\"modal-item fade\"></div>'\n              + '               </div>'\n              + '           </div>'\n              + '           ' + this.footer\n              + '       </div><!-- .modal-content -->'\n              + '   </div>'\n              + '</div>';\n\n            // append modal to document\n            $(this.config.doc.body).append( this.tpl );\n\n            // this target element\n            this.$element = $target instanceof jQuery ? $target : $($target);\n            // modal group ID\n            this.galleryName = this.$element.data('gallery');\n            // this modal element\n            this.$modal = $('#' + this.modalId, this.config.doc);\n            // animated block\n            this.$dialog = $('.modal-dialog', this.$modal);\n            // container closest modal\n            this.$container = $('.modal-container', this.$modal);\n            // container closest modal\n            this.$body = $('.modal-body', this.$modal);\n            this.$content = $('.modal-content', this.$modal);\n\n            this._border = this._calculateBorders(); // call after append and element defined\n            this._padding = this._calculatePadding(); // call after append and element defined\n\n            // check any nodes with this gallery name\n            if (this.galleryName) {\n                // get all gallery trigger items\n                this.$items = $(document.body).find('[data-gallery=\"' + this.galleryName + '\"]');\n                // this element current position\n                this.galleryIndex = this.$items.index(this.$element);\n                // set hotkeys on lightbox\n                $(document).on('keydown.bs.lightbox', this.hotkeys.bind(this))\n                // add the directional arrows to the modal\n                if (this.config.opts.arrows && this.$items.length > 1) {\n                    this.$container.append('<div class=\"navigations\">'\n                        + this.config.tpl.leftArrow\n                        + this.config.tpl.rightArrow\n                        + '</div>');\n\n                    this.$arrows = $('.navigations', this.$container);\n\n                    this.$container.on('click', 'button:first-child', event => {\n                        event.preventDefault();\n                        return this.navigateLeft();\n                    });\n\n                    this.$container.on('click', 'button:last-child', event => {\n                        event.preventDefault();\n                        return this.navigateRight();\n                    });\n\n                    this.navigateUpdate();\n                }\n            }\n\n            /**\n             * Set the events\n             * and call bootstrap modal\n             */\n            this.$modal\n                // call onShow on modal open\n                .on('show.bs.modal', this.config.onShow.bind(this))\n                // call onShown after modal opened\n                .on('shown.bs.modal', () => {\n                    this.togglePreloader(true);\n                    this._handle();\n                    return this.config.onShown.call(this);\n                })\n                // call onHide on modal close\n                .on('hide.bs.modal', this.config.onHide.bind(this))\n                // Call onHidden after modal closed\n                .on('hidden.bs.modal', () => {\n                    if (this.galleryName) {\n                        $(document).off('keydown.bs.lightbox')\n                        $(window).off('resize.bs.lightbox')\n                    }\n                    // jQuery element delete\n                    this.$modal.remove();\n                    return this.config.onHidden.call(this);\n                })\n                .modal(this.config);\n\n                $(window).on('resize.bs.lightbox', () => {\n                \tthis._resize(this.remindLastWidth, this.remindLastHeight)\n                });\n\n            /**\n             * Touch/Swipe events\n             */\n            this.touch = {\n                data: {},\n                start: {},\n                stop: {},\n                support: $.support.touch,\n                event: {}\n            }\n\n            this.touch.event.scroll = \"touchmove scroll\";\n            this.touch.event.start  = this.touch.support ? \"touchstart\" : \"mousedown\";\n            this.touch.event.stop   = this.touch.support ? \"touchend\" : \"mouseup\";\n            this.touch.event.move   = this.touch.support ? \"touchmove\" : \"mousemove\";\n\n            let touch = this.touch;\n\n            this.$dialog\n                .on(touch.event.start, (event) => {\n                    let self = this;\n                    // this._touchstartX = event.changedTouches[0].screenX;\n                    // event data\n                    touch.data = event.originalEvent.touches ?\n                        event.originalEvent.touches[ 0 ] :\n                        event;\n                    // start data\n                    touch.start = [ touch.data.pageX, touch.data.pageY ];\n                    // origin: $(event.target)\n\n                    self.$dialog\n                        // move object in touch\n                        .bind(touch.event.move, moveHandler)\n                    // call stop on touch end\\mouse up\n                    $(document).one(touch.event.stop, self.$dialog, moveStop);\n                    $(document).on('mouseleave', self.$dialog, moveStop);\n\n                    function moveHandler(event) {\n                        if (!touch.start) return;\n                        // update data\n                        touch.data = event.originalEvent.touches ?\n                                event.originalEvent.touches[ 0 ] :\n                                event;\n\n                        touch.stop = [ touch.data.pageX, touch.data.pageY ];\n\n                        // prevent scrolling\n                        if (Math.abs(touch.start[1] - touch.stop[1]) > 10) {\n                            event.preventDefault();\n\n                            // hide arrows on swipe\n                            $('button', self.$arrows).addClass('disabled').attr('disabled', 'disabled');\n                        }\n\n                        self.$dialog.css({\n                            'transform': 'translateY(' + -(touch.start[1] - touch.data.pageY) + 'px)',\n                            'transition': 'none'\n                        });\n                    }\n\n                    function moveStop( event ) {\n                        // reset move event\n                        self.$dialog.unbind(touch.event.move, moveHandler);\n                        // data exists\n                        if (touch.start && touch.stop) {\n                            // && Math.abs(touch.start[0] - touch.stop[0]) < 75\n                            if ( Math.abs(touch.start[1] - touch.stop[1]) > 30 ) {\n                                self.$dialog.css('transition', '');\n                                self.$modal.modal('hide');\n\n                                // do not toggle navigation\n                                self.$container.off('click');\n                                touch.start = [];\n                                touch.stop = [];\n                            }\n                            else {\n                                self.$dialog.css('transform', 'translateY(0px)');\n                            }\n                        }\n\n                        self.navigateUpdate();\n                    }\n                })\n                // .on(touchStopEvent, () => {\n                //     // this._touchendX = event.changedTouches[0].screenX;\n                //     // this._swipeGesure();\n                // })\n        }\n\n        _handle() {\n            let $toUse = this._containerToUse()\n            // this._updateTitleAndFooter()\n\n            let remote = this.$element.attr('data-remote') || this.$element.attr('href');\n            let type = 'image'; // this._detectRemoteType(remote, this.$element.attr('data-type') || false)\n\n            if(['image', 'youtube', 'vimeo', 'instagram', 'media', 'url'].indexOf(type) < 0)\n                return this._error(this.config.i18.ru.undefinedType)\n\n            switch(type) {\n                case 'image':\n                    this._preloadImage(remote, $toUse)\n                    this._preloadNearImages(this.galleryIndex, this.config.opts.deepPreload)\n                    break;\n                case 'youtube':\n                    this._showYoutubeVideo(remote, $toUse);\n                    break;\n                case 'vimeo':\n                    this._showVimeoVideo(this._getVimeoId(remote), $toUse);\n                    break;\n                case 'instagram':\n                    this._showInstagramVideo(this._getInstagramId(remote), $toUse);\n                    break;\n                case 'media':\n                    this._showHtml5Media(remote, $toUse);\n                    break;\n                default: // url\n                    this._loadRemoteContent(remote, $toUse);\n                    break;\n            }\n\n            return this;\n        }\n        // serve container\n        _containerToUse() {\n            let $first = this.$container.children('.modal-item:first');\n            let $last = this.$container.children('.modal-item:last');\n\n            // if currently showing an image, fade it out and remove\n            let $toUse = $last;\n            let $current = $first;\n\n            if($toUse.hasClass('in')) {\n                $toUse = $first;\n                $current = $last;\n            }\n\n            $current.removeClass('in show');\n            setTimeout(() => {\n                if(!$last.hasClass('in')) $last.empty()\n                if(!$first.hasClass('in')) $first.empty()\n            }, 500);\n\n            $toUse.addClass('in show');\n            return $toUse;\n        }\n        // load in container\n        _preloadImage(src, $containerForImage) {\n            $containerForImage = $containerForImage || false\n\n            let img = new Image();\n            if ($containerForImage) {\n                // if loading takes > 200ms show a loader\n                let loadingTimeout = setTimeout(() => {\n                    $containerForImage.append(this.config.tpl.preloader)\n                }, 200)\n\n                img.onload = () => {\n                    if(loadingTimeout) clearTimeout(loadingTimeout)\n\n                    let image = $('<img />');\n                        image.attr('src', img.src);\n                        // image.addClass('img-fluid');\n\n                    $containerForImage.html(image);\n                    this.$arrows.css('display', '') // remove display to default to css property\n\n                    this._resize(img.width, img.height);\n                    this.togglePreloader(false);\n                    return this.config.onContentLoaded.call(this);\n                };\n\n                img.onerror = () => {\n                    this.togglePreloader(false);\n                    return this.error(this.config.i18.ru.failLoad + ':' + src);\n                };\n            }\n\n            img.src = src;\n            return img;\n        }\n        // preload near images\n        _preloadNearImages(index, deep, depth = 1) {\n            if(!this.$items) return;\n\n            let nextItem = $(this.$items.get(index + depth), false);\n            if('undefined' != typeof nextItem) {\n                let src = nextItem.attr('data-remote') || nextItem.attr('href');\n                // if ('image' === nextItem.attr('data-type') || this._isImage(src));\n                // this._preloadImage(src, false);\n            }\n\n            let prevItem = $(this.$items.get(index - depth), false);\n            if('undefined' != typeof prevItem) {\n                let src = prevItem.attr('data-remote') || prevItem.attr('href');\n                // if ('image' === prevItem.attr('data-type') || this._isImage(src));\n                // this._preloadImage(src, false);\n            }\n\n            if(deep > 1) {\n                return this._preloadNearImages(index, --deep, ++depth);\n            }\n        }\n\n        hotkeys(event) {\n            event = event || window.event;\n            if (event.keyCode === 39 || event.keyCode === 32)\n                return this.navigateRight();\n            if (event.keyCode === 37 || event.keyCode === 8)\n                return this.navigateLeft();\n            if (event.keyCode === 27)\n                return this.close();\n        }\n\n        close() {\n            return this.$modal.modal('hide');\n        }\n\n        navigateTo(index) {\n            // outer offset\n            if (index < 0 || index > this.$items.length - 1) return;\n\n            // change current index\n            this.galleryIndex = index;\n            // chenge active element\n            this.$element = $(this.$items.get(this.galleryIndex));\n\n            this.navigateUpdate()\n            this._handle();\n        }\n\n        navigateLeft() {\n            // not has many items\n            if( !this.$items || this.$items.length === 1 ) return;\n\n            // rewind index\n            if (this.galleryIndex === 0) {\n                if (this.config.opts.infinite) this.galleryIndex = this.$items.length - 1;\n                else return;\n            }\n            else {\n                this.galleryIndex--;\n            }\n\n            // call event\n            this.config.onNavigate.call(this, 'left', this.galleryIndex)\n            return this.navigateTo(this.galleryIndex)\n        }\n\n        navigateRight() {\n            // not has many items\n            if( !this.$items || this.$items.length === 1 ) return;\n\n            if (this.galleryIndex === this.$items.length - 1) {\n                if (this.config.opts.infinite) this.galleryIndex = 0;\n                else return;\n            }\n            else {\n                this.galleryIndex++;\n            }\n\n            this.config.onNavigate.call(this, 'right', this.galleryIndex)\n            return this.navigateTo(this.galleryIndex)\n        }\n        // prop arrows disabled\n        navigateUpdate() {\n            if (!this.config.opts.infinite) {\n                if (this.galleryIndex === 0) {\n                    $('button:first-child', this.$arrows)\n                        .addClass('disabled')\n                        .attr('disabled', 'disabled');\n                }\n                else {\n                    $('button:first-child', this.$arrows)\n                        .removeClass('disabled')\n                        .removeAttr('disabled');\n                }\n\n                if (this.galleryIndex === this.$items.length - 1) {\n                    $('button:last-child', this.$arrows)\n                        .addClass('disabled')\n                        .attr('disabled', 'disabled');\n                }\n                else {\n                    $('button:last-child', this.$arrows)\n                        .removeClass('disabled')\n                        .removeAttr('disabled');\n                }\n            }\n        }\n\n        togglePreloader(show) {\n            show = !!show\n\n            if(show) {\n                this.$dialog.css('display', 'none');\n                this.$modal.removeClass('in show');\n                $('.modal-backdrop').append(this.config.tpl.preloader);\n            }\n            else {\n                this.$dialog.css('display', 'block');\n                this.$modal.addClass('in show');\n                $('.modal-backdrop').find('.preloader').remove();\n            }\n            return this;\n        }\n\n        _totalCssByAttribute(attribute) {\n            return parseInt(this.$dialog.css(attribute), 10) +\n                parseInt(this.$content.css(attribute), 10) +\n                parseInt(this.$body.css(attribute), 10)\n        }\n\n        // layout private methods\n        _calculateBorders() {\n            return {\n                top: this._totalCssByAttribute('border-top-width'),\n                right: this._totalCssByAttribute('border-right-width'),\n                bottom: this._totalCssByAttribute('border-bottom-width'),\n                left: this._totalCssByAttribute('border-left-width'),\n            }\n        }\n\n        _calculatePadding() {\n            return {\n                top: this._totalCssByAttribute('padding-top'),\n                right: this._totalCssByAttribute('padding-right'),\n                bottom: this._totalCssByAttribute('padding-bottom'),\n                left: this._totalCssByAttribute('padding-left'),\n            }\n        }\n\n        _resize( width, height ) {\n\n            height = height || width\n            this.remindLastWidth = width\n            this.remindLastHeight = height\n\n            let imageAspecRatio = width / height;\n\n            // if width > the available space, scale down the expected width and height\n            let gutterHorizontal = this._padding.left + this._padding.right + this._border.left + this._border.right\n            let gutterVertical = this._padding.top + this._padding.bottom + this._border.bottom + this._border.top\n\n            // force 10px margin if window size > 575px\n            let discountMargin = this.config.doc.body.clientWidth > 575 ? 0 : 20\n\n            //calculated each time as resizing the window can cause them to change due to Bootstraps fluid margins\n            let margins = parseFloat(this.$dialog.css('margin-top')) + parseFloat(this.$dialog.css('margin-bottom'));\n\n            let headerHeight = 0,\n                footerHeight = 0\n\n            // as the resize is performed the modal is show, the calculate might fail\n            // if so, default to the default sizes\n            // if (this._footerIsShown)\n            // footerHeight = this._$modalFooter.outerHeight(true) || 55\n\n            // if (this._titleIsShown)\n            // headerHeight = this._$modalHeader.outerHeight(true) || 67\n\n            let maxWidth = Math.min(width + gutterHorizontal,\n                this.config.doc.body.clientWidth,\n                this.config.opts.maxWidth\n            );\n\n            if((width + gutterHorizontal) > maxWidth) {\n                height = (maxWidth - gutterHorizontal - discountMargin) / imageAspecRatio;\n                width = maxWidth\n            }\n            else {\n                width = (width + gutterHorizontal)\n            }\n\n            let maxHeight = Math.min(height,\n                $(window).height() - gutterVertical - margins - headerHeight - footerHeight,\n                this.config.opts.maxHeight - gutterVertical - headerHeight - footerHeight\n            );\n\n            if(height > maxHeight) {\n                // if height > the available height, scale down the width\n                width = Math.ceil(maxHeight * imageAspecRatio) + gutterHorizontal;\n            }\n\n            this.$container.css('height', maxHeight)\n            this.$dialog.css('flex', 1).css('max-width', width);\n\n            let modal = this.$modal.data('bs.modal');\n            if (modal) modal.handleUpdate();\n\n            return this;\n        }\n\n        _error( message ) {\n            console.error(message);\n            this.containerToUse().html(message);\n            this.resize(500, 180);\n            return this;\n        }\n\n        static _jQueryInterface(config) {\n            config = config || {}\n            return this.each(() => {\n                let $this = $(this)\n                let _config = $.extend({}, Lightbox.__default, $this.data(), typeof config === 'object' && config )\n\n                new Lightbox(this, _config)\n            })\n        }\n    }\n\n    $.fn[NAME]             = Lightbox._jQueryInterface;\n    $.fn[NAME].Constructor = Lightbox;\n    $.fn[NAME].noConflict  = () => {\n        $.fn[NAME] = JQUERY_NO_CONFLICT;\n        return Lightbox._jQueryInterface;\n    }\n\n    return Lightbox\n\n})(jQuery)\n\nexport default Lightbox\n"],"sourceRoot":""}